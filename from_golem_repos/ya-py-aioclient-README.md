# YA-PY-AIOClient

![Generate OAS](https://github.com/golemfactory/ya-py-aioclient/workflows/Generate%20OAS/badge.svg?branch=master)

Python Rest binding of [Yapapi](https://github.com/golemfactory/yapapi), generated by [Open Api Generator](https://github.com/OpenAPITools/openapi-generator/) and several patches.

## Prerequisites
- Python 3.8.x
- Poetry
- [Poe](https://github.com/nat-n/poethepoet/blob/e8451601c81a2dfd6066cd02116f07fd7172625b/README.rst) (Optional)

## How to generate

Type and hit to `make setup` then `make m.pre-stub` on terminal, that's it.

Note: Be sure you cleaned around with `make clean` before generating over again.

## Build
`poetry build`

## Run test

After you [generate](#how-to-generate);

`poetry run pytest src`

## Need more patching?

Run `make setup` only.

Then copy content of `src` into `target` (yes replace them all), then do your changes under `src`. 

When you done with your changes, run;
```bash
poe diff COMPONENT_NAME COMPONENT_NAME/00X_PATCH_TITLE.patch
```
or (without poe)
```bash
./build-scripts/diff-module.sh COMPONENT_NAME > patches/COMPONENT_NAME/00X_PATCH_TITLE.patch
```
where;

- COMPONENT_NAME: (activity | market | payment) depend on component you patch
- PATCH_TITLE: give a descriptive title to your patch
- 00X: order number of patch
